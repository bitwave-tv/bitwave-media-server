version: '3'


services:
  nginx-server:
    container_name: bms-nginx-server
#    image: bms-nginx-server
    build: './nginx-server'
    ports:
      - "8080:8080"
      - "1935:1935"
    networks:
      - internal
    environment:
      - FORCE_COLOR=1


  api-server:
    container_name: bms-api-server
#    image: bms-api-server
    build: './api-server'
    ports:
      - "3000:3000"
    networks:
      - internal
    volumes:
      - "./creds/service-account.json:/bms-api-server/creds/service-account.json"
    environment:
      - FORCE_COLOR=1


networks:
  internal:
    external:
      name: bms-net
